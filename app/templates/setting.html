<!-- app/templates/index.html -->
<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="{{ url_for('static', filename='css/site.css') }}">
	<link rel="stylesheet" href="{{ url_for('static', filename='css/setting.css') }}">
	<link href="https://fonts.googleapis.com/earlyaccess/hannari.css" rel="stylesheet" />
	<script src="{{ url_for('static', filename='js/setting.js') }}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PV Notification Setting</title>
</head>

<body>
<div class='container'>
	<form action="{{ url_for('main.update_device_setting') }}" method="post">
	<div class='header'>
		<a class='return-button' href="{{ url_for('main.publish_hello', userid=userid,redirect_app=redirect_app)}}">
			<img src="{{ url_for('static', filename='img/arrow left.png') }}" >
		</a>
		<input type='submit' class='save-button'>
	</div>
	{% for device in device_info %}
	<div class='title'>QA PV System</div>
	<div class='contaniner'>
		<div class='des'>Send a notification once an hour according to the set time.</div>
		<div class='settings'>
			<div id ='notif'>
				<span>Notification</span>
				<label for='notification' class="switch">
			      <input type="checkbox" id='notification'  name='notification'
			      {%if device.notify =="ON" %}
			      checked
			      {% endif %}
			      >
			    <span class="slider"></span>		      
			</div>
			<div class='option uuid'>
			
			 <input type="hidden" id="uuid" name="uuid" value="{{ device.uuid }}">
			</div>
			<div class='option goal'>
				<label for='goal'>Goal</label>
				<div><input type="number" id='goal' name ='goal' class='goal-value' value={{ device.target_energy_level }} oninput="if(value.length > 8)value=value.slice(0,8)"><span class='unit'>kWh</span></div>
			</div>
			<div class='hint'> Please enter a number between 1~9.999 kWh.</div>
			<div class='option' id='bound'>
				<label for='lower_bound'>Lower Bound</label>
				<div><input type='number' id='lower_bound' name='lower_bound' class='bound' value={{ device.lower_bound }} readonly><span class='unit'>%</span><img src="{{ url_for('static', filename='img/chevron-right.png') }}"></div>
			</div>
			<div class='option' id='start'>
				<label for='start_time'>Starting Time</label>
				<div><input type='number' id='start_time' name='start_time' class='start' value={{ device.start_time }} readonly>&nbsp;: 00<img src="{{ url_for('static', filename='img/chevron-right.png') }}"></div>
			</div>
			<div class='option' id='end'>
				<label for='end_time'>End Time</label>
				<div><input type='number' id='end_time' name='end_time' class='end' value={{ device.end_time }} readonly>&nbsp;: 00<img src="{{ url_for('static', filename='img/chevron-right.png') }}"></div>
			</div>
		</div>
	</div>
	<div class='pop-up bound' >
		<div class='pop-up-bg'>
			<span id='bound'>Done</span>
			<div class='picker'>
				<ul class='picker-list' id='bound'></ul>
				<div class='picker-blur-top'></div>
				<div class='picker-focus'></div>
				<div class='picker-blur-bottom'></div>
			</div>
		</div>
	</div>
	<div class='pop-up start'>
		<div class='pop-up-bg'>
			<span id='start'>Done</span>
			<div class='picker'>
				<ul class='picker-list' id='start'></ul>
				<div class='picker-blur-top'></div>
				<div class='picker-focus'></div>
				<div class='picker-blur-bottom'></div>
			</div>
		</div>
	</div>
	<div class='pop-up end'>
		<div class='pop-up-bg'>
			<span id='end'>Done</span>
			<div class='picker'>
				<ul class='picker-list' id='end'></ul>
				<div class='picker-blur-top'></div>
				<div class='picker-focus'></div>
				<div class='picker-blur-bottom'></div>
			</div>
		</div>
	</div>
	{% endfor %}
	
</form>
</div>
</body>
</html>
